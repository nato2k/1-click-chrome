var internationalLinks = 
{
	eur:"https://weather.com/maps/satellite/unitedkingdom-weather-map",
	me:"http://www.weather.com/maps/satellite/europe-africaweathermap/middleeastsatellite_large_animated.html?par=chromev1.1.0&site=intl-sat&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=intl-sat&cm_ite=aisat-mideast",
	mex:"http://www.weather.com/maps/satellite/northamerica/mexicosatellite_large_animated.html?par=chromev1.1.0&site=intl-sat&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=intl-sat&cm_ite=aisat-mex",
	russia:"http://www.weather.com/maps/satelitte/europe/russiasatellite_large_animated.html?par=chromev1.1.0&site=intl-sat&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=intl-sat&cm_ite=aisat-russia",
	afr:"http://www.weather.com/maps/satellite/africaandmiddleeast/africasatellite_large_animated.html?par=chromev1.1.0&site=intl-sat&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=intl-sat&cm_ite=aisat-africa",
	india:"http://www.weather.com/maps/satellite/pacific/asiasatellite_large_animated.html?par=chromev1.1.0&site=intl-sat&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=intl-sat&cm_ite=aisat-asia",
	carib:"http://www.weather.com/maps/satellite/centralamerica/index_large_animated.html?par=chromev1.1.0&site=intl-sat&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=intl-sat&cm_ite=aisat-cenamer",
	asia:"http://www.weather.com/maps/satellite/pacific/asiasatellite_large_animated.html?par=chromev1.1.0&site=intl-sat&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=intl-sat&cm_ite=aisat-asia",
	can:"http://www.weather.com/maps/satellite/northamerica/index_large_animated.html?par=chromev1.1.0&site=intl-sat&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=intl-sat&cm_ite=aisat-canada",
	sa:"http://www.weather.com/maps/satellite/southamerica/index_large_animated.html?par=chromev1.1.0&site=intl-sat&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=intl-sat&cm_ite=aisat-samer",
	pac:"http://www.weather.com/maps/satellite/australia/australiasatellite_large_animated.html?par=chromev1.1.0&site=intl-sat&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=intl-sat&cm_ite=aisat-australia",
	aus:"http://www.weather.com/maps/satellite/australia/australiasatellite_large_animated.html?par=chromev1.1.0&site=intl-sat&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=intl-sat&cm_ite=aisat-australia"
}

var mapImages =
{
international : 
{
 AF :{code:"me",map:"http://i.imwx.com/images/sat/mideastsat_277x187.jpg"},
 AL :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 AG :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 AN :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 AO :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 AV :{code:"carib",map:"http://i.imwx.com/web/maps/satellite/regions/caribsat_277x187.jpg"},
 AY :{code:"pac",map:"http://i.imwx.com/web/maps/satellite/regions/web_intl_australia_pac_islands_sat_277x187.jpg"},
 AC :{code:"carib",map:"http://i.imwx.com/web/maps/satellite/regions/caribsat_277x187.jpg"},
 AR :{code:"sa",map:"http://i.imwx.com/images/sat/sasat_277x187.jpg"},
 AM :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 AA :{code:"carib",map:"http://i.imwx.com/web/maps/satellite/regions/caribsat_277x187.jpg"},
 AS :{code:"aus",map:"http://i.imwx.com/web/maps/satellite/regions/web_intl_australia_pac_islands_sat_277x187.jpg"},
 AU :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 AJ :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 BA :{code:"me",map:"http://i.imwx.com/images/sat/mideastsat_277x187.jpg"},
 BG :{code:"asia",map:"http://i.imwx.com/images/sat/asiasat_277x187.jpg"},
 BB :{code:"carib",map:"http://i.imwx.com/web/maps/satellite/regions/caribsat_277x187.jpg"},
 BO :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 BE :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 BH :{code:"carib",map:"http://i.imwx.com/web/maps/satellite/regions/caribsat_277x187.jpg"},
 BN :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 BD :{code:"trop ",map:"http://i.imwx.com/images/sat/atl_oce_sat_277x187.jpg"},
 BT :{code:"asia",map:"http://i.imwx.com/images/sat/asiasat_277x187.jpg"},
 BL :{code:"sa",map:"http://i.imwx.com/images/sat/sasat_277x187.jpg"},
 BK :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 BC :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 BR :{code:"sa",map:"http://i.imwx.com/images/sat/sasat_277x187.jpg"},
 VI :{code:"carib",map:"http://i.imwx.com/web/maps/satellite/regions/caribsat_277x187.jpg"},
 BX :{code:"asia",map:"http://i.imwx.com/images/sat/asiasat_277x187.jpg"},
 BU :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 UV :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 BM :{code:"asia",map:"http://i.imwx.com/images/sat/asiasat_277x187.jpg"},
 BY :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 CB :{code:"asia",map:"http://i.imwx.com/images/sat/asiasat_277x187.jpg"},
 CM :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 CA :{code:"can",map:"http://i.imwx.com/images/sat/canadasat_277x187.jpg"},
 CV :{code:"trop ",map:"http://i.imwx.com/images/sat/atl_oce_sat_277x187.jpg"},
 CJ :{code:"carib",map:"http://i.imwx.com/web/maps/satellite/regions/caribsat_277x187.jpg"},
 CT :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 CD :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 CI :{code:"sa",map:"http://i.imwx.com/images/sat/sasat_277x187.jpg"},
 CH :{code:"asia",map:"http://i.imwx.com/images/sat/asiasat_277x187.jpg"},
 KT :{code:"asia",map:"http://i.imwx.com/images/sat/asiasat_277x187.jpg"},
 CO :{code:"sa",map:"http://i.imwx.com/images/sat/sasat_277x187.jpg"},
 CN :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 CW :{code:"pac",map:"http://i.imwx.com/web/maps/satellite/regions/web_intl_australia_pac_islands_sat_277x187.jpg"},
 CS :{code:"carib",map:"http://i.imwx.com/web/maps/satellite/regions/caribsat_277x187.jpg"},
 IV :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 HR :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 CU :{code:"carib",map:"http://i.imwx.com/web/maps/satellite/regions/caribsat_277x187.jpg"},
 CY :{code:"me",map:"http://i.imwx.com/images/sat/mideastsat_277x187.jpg"},
 EZ :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 CG :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 DA :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 DJ :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 DO :{code:"carib",map:"http://i.imwx.com/web/maps/satellite/regions/caribsat_277x187.jpg"},
 DR :{code:"carib",map:"http://i.imwx.com/web/maps/satellite/regions/caribsat_277x187.jpg"},
 EC :{code:"sa",map:"http://i.imwx.com/images/sat/sasat_277x187.jpg"},
 EG :{code:"me",map:"http://i.imwx.com/images/sat/mideastsat_277x187.jpg"},
 ES :{code:"carib",map:"http://i.imwx.com/web/maps/satellite/regions/caribsat_277x187.jpg"},
 EK :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 ER :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 EN :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 ET :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 FK :{code:"sa",map:"http://i.imwx.com/images/sat/sasat_277x187.jpg"},
 FJ :{code:"aus",map:"http://i.imwx.com/web/maps/satellite/regions/web_intl_australia_pac_islands_sat_277x187.jpg"},
 FI :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 FR :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 FG :{code:"sa",map:"http://i.imwx.com/images/sat/sasat_277x187.jpg"},
 FP :{code:"pac",map:"http://i.imwx.com/web/maps/satellite/regions/web_intl_australia_pac_islands_sat_277x187.jpg"},
 GB :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 GG :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 GM :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 GH :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 GI :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 GR :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 GL :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 GJ :{code:"carib",map:"http://i.imwx.com/web/maps/satellite/regions/caribsat_277x187.jpg"},
 GP :{code:"carib",map:"http://i.imwx.com/web/maps/satellite/regions/caribsat_277x187.jpg"},
 GT :{code:"carib",map:"http://i.imwx.com/web/maps/satellite/regions/caribsat_277x187.jpg"},
 GV :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 PU :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 GY :{code:"sa",map:"http://i.imwx.com/images/sat/sasat_277x187.jpg"},
 HA :{code:"carib",map:"http://i.imwx.com/web/maps/satellite/regions/caribsat_277x187.jpg"},
 HO :{code:"carib",map:"http://i.imwx.com/web/maps/satellite/regions/caribsat_277x187.jpg"},
 HU :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 IC :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 IN :{code:"india",map:"http://i.imwx.com/images/sat/india_sat_277x187.jpg"},
 ID :{code:"aus",map:"http://i.imwx.com/web/maps/satellite/regions/web_intl_australia_pac_islands_sat_277x187.jpg"},
 IR :{code:"me",map:"http://i.imwx.com/images/sat/mideastsat_277x187.jpg"},
 IZ :{code:"me",map:"http://i.imwx.com/images/sat/mideastsat_277x187.jpg"},
 EI :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 IM :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 IS :{code:"me",map:"http://i.imwx.com/images/sat/mideastsat_277x187.jpg"},
 IT :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 JM :{code:"carib",map:"http://i.imwx.com/web/maps/satellite/regions/caribsat_277x187.jpg"},
 JA :{code:"asia",map:"http://i.imwx.com/images/sat/asiasat_277x187.jpg"},
 JO :{code:"me",map:"http://i.imwx.com/images/sat/mideastsat_277x187.jpg"},
 KZ :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 KE :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 KR :{code:"asia",map:"http://i.imwx.com/images/sat/asiasat_277x187.jpg"},
 KV :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 KU :{code:"me",map:"http://i.imwx.com/images/sat/mideastsat_277x187.jpg"},
 KG :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 LA :{code:"asia",map:"http://i.imwx.com/images/sat/asiasat_277x187.jpg"},
 LG :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 LE :{code:"me",map:"http://i.imwx.com/images/sat/mideastsat_277x187.jpg"},
 LT :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 LI :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 LY :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 LS :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 LH :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 LU :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 MK :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 MA :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 MI :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 MY :{code:"asia",map:"http://i.imwx.com/images/sat/asiasat_277x187.jpg"},
 MV :{code:"asia",map:"http://i.imwx.com/images/sat/asiasat_277x187.jpg"},
 ML :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 MT :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 MB :{code:"carib",map:"http://i.imwx.com/web/maps/satellite/regions/caribsat_277x187.jpg"},
 MR :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 MP :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 MF :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 MX :{code:"mex",map:"http://i.imwx.com/images/sat/mexsat_277x187.jpg"},
 MD :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 MN :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 MG :{code:"asia",map:"http://i.imwx.com/images/sat/asiasat_277x187.jpg"},
 MW :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 MH :{code:"carib",map:"http://i.imwx.com/web/maps/satellite/regions/caribsat_277x187.jpg"},
 MO :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 MZ :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 WA :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 NR :{code:"pac",map:"http://i.imwx.com/web/maps/satellite/regions/web_intl_australia_pac_islands_sat_277x187.jpg"},
 NP :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 NL :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 NT :{code:"carib",map:"http://i.imwx.com/web/maps/satellite/regions/caribsat_277x187.jpg"},
 NC :{code:"asia",map:"http://i.imwx.com/images/sat/asiasat_277x187.jpg"},
 NZ :{code:"aus",map:"http://i.imwx.com/web/maps/satellite/regions/web_intl_australia_pac_islands_sat_277x187.jpg"},
 NU :{code:"carib",map:"http://i.imwx.com/web/maps/satellite/regions/caribsat_277x187.jpg"},
 NG :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 NI :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 KN :{code:"asia",map:"http://i.imwx.com/images/sat/asiasat_277x187.jpg"},
 NO :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 MU :{code:"me",map:"http://i.imwx.com/images/sat/mideastsat_277x187.jpg"},
 PK :{code:"asia",map:"http://i.imwx.com/images/sat/asiasat_277x187.jpg"},
 PM :{code:"carib",map:"http://i.imwx.com/web/maps/satellite/regions/caribsat_277x187.jpg"},
 PP :{code:"aus",map:"http://i.imwx.com/web/maps/satellite/regions/web_intl_australia_pac_islands_sat_277x187.jpg"},
 PA :{code:"sa",map:"http://i.imwx.com/images/sat/sasat_277x187.jpg"},
 PE :{code:"sa",map:"http://i.imwx.com/images/sat/sasat_277x187.jpg"},
 RP :{code:"asia",map:"http://i.imwx.com/images/sat/asiasat_277x187.jpg"},
 PL :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 PO :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 QA :{code:"me",map:"http://i.imwx.com/images/sat/mideastsat_277x187.jpg"},
 CF :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 RE :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 RO :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 RS :{code:"russia",map:"http://i.imwx.com/images/sat/russia_sat_277x187.jpg"},
 RW :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 SX :{code:"pac",map:"http://i.imwx.com/web/maps/satellite/regions/web_intl_australia_pac_islands_sat_277x187.jpg"},
 ST :{code:"carib",map:"http://i.imwx.com/web/maps/satellite/regions/caribsat_277x187.jpg"},
 SM :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 TP :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 SA :{code:"me",map:"http://i.imwx.com/images/sat/mideastsat_277x187.jpg"},
 SG :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 SR :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 SE :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 SL :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 SN :{code:"asia",map:"http://i.imwx.com/images/sat/asiasat_277x187.jpg"},
 LO :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 SI :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 BP :{code:"aus",map:"http://i.imwx.com/web/maps/satellite/regions/web_intl_australia_pac_islands_sat_277x187.jpg"},
 SO :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 SF :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 KS :{code:"asia",map:"http://i.imwx.com/images/sat/asiasat_277x187.jpg"},
 SP :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 CE :{code:"asia",map:"http://i.imwx.com/images/sat/asiasat_277x187.jpg"},
 SH :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 SC :{code:"carib",map:"http://i.imwx.com/web/maps/satellite/regions/caribsat_277x187.jpg"},
 VC :{code:"carib",map:"http://i.imwx.com/web/maps/satellite/regions/caribsat_277x187.jpg"},
 SU :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 NS :{code:"sa",map:"http://i.imwx.com/images/sat/sasat_277x187.jpg"},
 SV :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 WZ :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 SW :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 SZ :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 SY :{code:"me",map:"http://i.imwx.com/images/sat/mideastsat_277x187.jpg"},
 TW :{code:"asia",map:"http://i.imwx.com/images/sat/asiasat_277x187.jpg"},
 TI :{code:"me",map:"http://i.imwx.com/images/sat/mideastsat_277x187.jpg"},
 TH :{code:"asia",map:"http://i.imwx.com/images/sat/asiasat_277x187.jpg"},
 BF :{code:"carib",map:"http://i.imwx.com/web/maps/satellite/regions/caribsat_277x187.jpg"},
 GA :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 TO :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 TN :{code:"pac",map:"http://i.imwx.com/web/maps/satellite/regions/web_intl_australia_pac_islands_sat_277x187.jpg"},
 TD :{code:"carib",map:"http://i.imwx.com/web/maps/satellite/regions/caribsat_277x187.jpg"},
 TS :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 TU :{code:"me",map:"http://i.imwx.com/images/sat/mideastsat_277x187.jpg"},
 TX :{code:"me",map:"http://i.imwx.com/images/sat/mideastsat_277x187.jpg"},
 TK :{code:"carib",map:"http://i.imwx.com/web/maps/satellite/regions/caribsat_277x187.jpg"},
 TV :{code:"pac",map:"http://i.imwx.com/web/maps/satellite/regions/web_intl_australia_pac_islands_sat_277x187.jpg"},
 UG :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 UP :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 AE :{code:"me",map:"http://i.imwx.com/images/sat/mideastsat_277x187.jpg"},
 UK :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 TZ :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 UY :{code:"sa",map:"http://i.imwx.com/images/sat/sasat_277x187.jpg"},
 UZ :{code:"eur",map:"http://i.imwx.com/images/sat/europesat_277x187.jpg"},
 NH :{code:"asia",map:"http://i.imwx.com/images/sat/asiasat_277x187.jpg"},
 VE :{code:"carib",map:"http://i.imwx.com/web/maps/satellite/regions/caribsat_277x187.jpg"},
 VM :{code:"asia",map:"http://i.imwx.com/images/sat/asiasat_277x187.jpg"},
 WE :{code:"me",map:"http://i.imwx.com/images/sat/mideastsat_277x187.jpg"},
 WI :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 WS :{code:"wstpac  ",map:"http://i.imwx.com/images/sat/wpacglobsat_277x187.jpg"},
 YM :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 ZA :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"},
 ZI :{code:"afr",map:"http://i.imwx.com/images/sat/africasat_277x187.jpg"}
},
regional_doppler : 
{
AK    :{ map : "http://i.imwx.com/web/radar/us_alaska_radar_small_usen.jpg",link: "https://weather.com/weather/radar/interactive/l/USAK0012:1:US?animation=false?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-alaska" },
AL    :{ map : "http://i.imwx.com/web/radar/us_se_9regradar_small_usen.jpg",link: "https://weather.com/weather/radar/interactive/l/USAL0054:1:US?animation=true&layer=radarConus&zoom=8?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-se" },
AR    :{ map : "http://i.imwx.com/web/radar/us_sc_9regradar_small_usen.jpg",link: "https://weather.com/weather/radar/interactive/l/USAR0336:1:US?animation=true&layer=radarConus&zoom=8?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-scen" },
AZ    :{ map : "http://i.imwx.com/web/radar/us_sw_9regradar_small_usen.jpg",link: "https://weather.com/weather/radar/interactive/l/USAZ0166:1:US?animation=true&layer=radarConus&zoom=8?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-sw" },
CA    :{ map : "http://i.imwx.com/web/radar/us_wc_9regradar_small_usen.jpg",link: "https://weather.com/weather/radar/interactive/l/USCA0638:1:US?animation=true&layer=radarConus&zoom=8?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-wcen" },
CO    :{ map : "http://i.imwx.com/web/radar/us_cn_9regradar_small_usen.jpg",link: "https://weather.com/weather/radar/interactive/l/USCO0078:1:US?animation=true&layer=radarConus&zoom=8?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-cen" },
CT    :{ map : "http://i.imwx.com/web/radar/us_ne_9regradar_small_usen.jpg",link: "https://weather.com/weather/radar/interactive/l/USCT0094:1:US?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-ne" },
DC    :{ map : "http://i.imwx.com/web/radar/us_ec_9regradar_small_usen.jpg",link: "https://weather.com/weather/radar/interactive/l/USDC0001:1:US?animation=true&layer=radarConus&zoom=8?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-ecen" },
DE    :{ map : "http://i.imwx.com/web/radar/us_ec_9regradar_small_usen.jpg",link: "https://weather.com/weather/radar/interactive/l/USDE0012:1:US?animation=true&layer=radarConus&zoom=8?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-ecen" },
FL    :{ map : "http://i.imwx.com/web/radar/us_se_9regradar_small_usen.jpg",link: "https://weather.com/weather/radar/interactive/l/USFL0228:1:US?animation=true&layer=radarConus&zoom=8?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-se" },
GA    :{ map : "http://i.imwx.com/web/radar/us_se_9regradar_small_usen.jpg",link: "https://weather.com/weather/radar/interactive/l/USGA0028:1:US?animation=true&layer=radarConus&zoom=8?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-se" },
HI    :{ map : "http://i.imwx.com/web/radar/us_hawaii_radar_small_usen.jpg",link: "https://weather.com/weather/radar/interactive/l/USHI0020:1:US?animation=true&layer=radarHawaii&zoom=8?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-hawaii" },
IA    :{ map : "http://i.imwx.com/web/radar/us_nc_9regradar_small_usen.jpg",link: "https://weather.com/weather/radar/interactive/l/USIA0231:1:US?animation=true&layer=radarConus&zoom=8?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-ncen" },
ID    :{ map : "http://i.imwx.com/web/radar/us_wc_9regradar_small_usen.jpg",link: "https://weather.com/weather/radar/interactive/l/USID0025:1:US?animation=true&layer=radarConus&zoom=8?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-wcen" },
IL    :{ map : "http://i.imwx.com/web/radar/us_cn_9regradar_small_usen.jpg",link: "https://weather.com/weather/radar/interactive/l/USIL0225:1:US?animation=true&layer=radarConus&zoom=8?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-cen" },
IN    :{ map : "http://i.imwx.com/web/radar/us_ec_9regradar_small_usen.jpg",link: "https://weather.com/weather/radar/interactive/l/USIN0305:1:US?animation=true&layer=radarConus&zoom=8?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-ecen" },
KS    :{ map : "http://i.imwx.com/web/radar/us_cn_9regradar_small_usen.jpg",link: "https://weather.com/weather/radar/interactive/l/USKS0620:1:US?animation=true&layer=radarConus&zoom=8?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-cen" },
KY    :{ map : "http://i.imwx.com/web/radar/us_ec_9regradar_small_usen.jpg",link: "https://weather.com/weather/radar/interactive/l/USKY1079:1:US?animation=true&layer=radarConus&zoom=8?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-ecen" },
LA    :{ map : "http://i.imwx.com/web/radar/us_se_9regradar_small_usen.jpg",link: "https://weather.com/weather/radar/interactive/l/USLA0033:1:US?animation=true&layer=radarConus&zoom=8?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-se" },
MA    :{ map : "http://i.imwx.com/web/radar/us_ne_9regradar_small_usen.jpg",link: "http://www.weather.com/maps/satellite/northeastus/northeastdopplerradar1800_large_animated.html?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-ne" },
MD    :{ map : "http://i.imwx.com/web/radar/us_ec_9regradar_small_usen.jpg",link: "http://www.weather.com/maps/satellite/eastcentralus/eastcentraldopplerradar1800_large_animated.html?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-ecen" },
ME    :{ map : "http://i.imwx.com/web/radar/us_ne_9regradar_small_usen.jpg",link: "http://www.weather.com/maps/satellite/northeastus/northeastdopplerradar1800_large_animated.html?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-ne" },
MI    :{ map : "http://i.imwx.com/web/radar/us_ne_9regradar_small_usen.jpg",link: "http://www.weather.com/maps/satellite/northeastus/northeastdopplerradar1800_large_animated.html?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-ne" },
MN    :{ map : "http://i.imwx.com/web/radar/us_nc_9regradar_small_usen.jpg",link: "http://www.weather.com/maps/satellite/northcentralus/northcentraldopplerradar1800_large_animated.html?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-ncen" },
MO    :{ map : "http://i.imwx.com/web/radar/us_cn_9regradar_small_usen.jpg",link: "http://www.weather.com/maps/satellite/centralus/centraldopplerradar1800_large_animated.html?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-cen" },
MS    :{ map : "http://i.imwx.com/web/radar/us_sc_9regradar_small_usen.jpg",link: "http://www.weather.com/maps/satellite/southcentralus/southcentraldopplerradar1800_large_animated.html?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-scen" },
MT    :{ map : "http://i.imwx.com/web/radar/us_nw_9regradar_small_usen.jpg",link: "http://www.weather.com/maps/satellite/northwestus/northwestdopplerradar1800_large_animated.html?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-nw" },
NC    :{ map : "http://i.imwx.com/web/radar/us_ec_9regradar_small_usen.jpg",link: "https://weather.com/weather/radar/interactive/l/USSC0141:1:US?animation=true&layer=radarConus&zoom=8" },
ND    :{ map : "http://i.imwx.com/web/radar/us_nc_9regradar_small_usen.jpg",link: "http://www.weather.com/maps/satellite/northcentralus/northcentraldopplerradar1800_large_animated.html?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-ncen" },
NE    :{ map : "http://i.imwx.com/web/radar/us_cn_9regradar_small_usen.jpg",link: "http://www.weather.com/maps/satellite/centralus/centraldopplerradar1800_large_animated.html?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-cen" },
NH    :{ map : "http://i.imwx.com/web/radar/us_ne_9regradar_small_usen.jpg",link: "http://www.weather.com/maps/satellite/northeastus/northeastdopplerradar1800_large_animated.html?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-ne" },
NJ    :{ map : "http://i.imwx.com/web/radar/us_ec_9regradar_small_usen.jpg",link: "http://www.weather.com/maps/satellite/eastcentralus/eastcentraldopplerradar1800_large_animated.html?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-ecen" },
NM    :{ map : "http://i.imwx.com/web/radar/us_sw_9regradar_small_usen.jpg",link: "http://www.weather.com/maps/satellite/southwestus/southwestdopplerradar1800_large_animated.html?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-sw" },
NV    :{ map : "http://i.imwx.com/web/radar/us_wc_9regradar_small_usen.jpg",link: "http://www.weather.com/maps/satellite/westcentralus/westcentraldopplerradar1800_large_animated.html?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-wcen" },
NY    :{ map : "http://i.imwx.com/web/radar/us_ne_9regradar_small_usen.jpg",link: "https://weather.com/weather/radar/interactive/l/USNY0996:1:US?animation=true&layer=radarConus&zoom=8?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-ne" },
OH    :{ map : "http://i.imwx.com/web/radar/us_ec_9regradar_small_usen.jpg",link: "http://www.weather.com/maps/satellite/eastcentralus/eastcentraldopplerradar1800_large_animated.html?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-ecen" },
OK    :{ map : "http://i.imwx.com/web/radar/us_sc_9regradar_small_usen.jpg",link: "https://weather.com/weather/radar/interactive/l/USOK0400:1:US?animation=true&layer=radarConus&zoom=8?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-scen" },
OR    :{ map : "http://i.imwx.com/web/radar/us_nw_9regradar_small_usen.jpg",link: "http://www.weather.com/maps/satellite/northwestus/northwestdopplerradar1800_large_animated.html?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-nw" },
PA    :{ map : "http://i.imwx.com/web/radar/us_ne_9regradar_small_usen.jpg",link: "http://www.weather.com/maps/satellite/northeastus/northeastdopplerradar1800_large_animated.html?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-ne" },
PR    :{ map : "http://i.imwx.com/web/radar/us_sju_closeradar_small_usen.jpg",link: "http://www.weather.com/weather/map/USPR0001?showanimation=yes&mapregion=us_sju_closeradar_plus_usen&par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-pr" },
RI    :{ map : "http://i.imwx.com/web/radar/us_ne_9regradar_small_usen.jpg",link: "http://www.weather.com/maps/satellite/northeastus/northeastdopplerradar1800_large_animated.html?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-ne" },
SC    :{ map : "http://i.imwx.com/web/radar/us_ec_9regradar_small_usen.jpg",link: "https://weather.com/weather/radar/interactive/l/USSC0065:1:US?animation=true&layer=radarConus&zoom=8?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-ecen" },
SD    :{ map : "http://i.imwx.com/web/radar/us_nc_9regradar_small_usen.jpg",link: "http://www.weather.com/maps/satellite/northcentralus/northcentraldopplerradar1800_large_animated.html?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-ncen" },
TN    :{ map : "http://i.imwx.com/web/radar/us_ec_9regradar_small_usen.jpg",link: "https://weather.com/weather/radar/interactive/l/USTN0357:1:US?animation=false&layer=radarConus&zoom=8?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-ecen" },
TX    :{ map : "http://i.imwx.com/web/radar/us_sc_9regradar_small_usen.jpg",link: "https://weather.com/weather/radar/interactive/l/USTX0327:1:US?animation=false&layer=radarConus&zoom=8?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-scen" },
UT    :{ map : "http://i.imwx.com/web/radar/us_wc_9regradar_small_usen.jpg",link: "https://weather.com/weather/radar/interactive/l/USUT0225:1:US?animation=true&layer=radarConus&zoom=8?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-wcen" },
VA    :{ map : "http://i.imwx.com/web/radar/us_ec_9regradar_small_usen.jpg",link: "https://weather.com/weather/radar/interactive/l/USVA0652:1:US?animation=true&layer=radarConus&zoom=8?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-ecen" },
VT    :{ map : "http://i.imwx.com/web/radar/us_ne_9regradar_small_usen.jpg",link: "https://weather.com/weather/radar/interactive/l/USVT0033:1:US?animation=true&layer=radarConus&zoom=8?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-ne" },
VI    :{ map : "http://i.imwx.com/web/radar/us_sju_closeradar_small_usen.jpg",link: "http://www.weather.com/weather/map/USPR0001?showanimation=yes&mapregion=us_sju_closeradar_plus_usen&par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-pr" },
WA    :{ map : "http://i.imwx.com/web/radar/us_nw_9regradar_small_usen.jpg",link: "https://weather.com/weather/radar/interactive/l/USWA0395:1:US?animation=true&layer=radarConus&zoom=8?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-nw" },
WI    :{ map : "http://i.imwx.com/web/radar/us_nc_9regradar_small_usen.jpg",link: "https://weather.com/weather/radar/interactive/l/USWI0411:1:US?animation=true&layer=radarConus&zoom=8?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-ncen" },
WV    :{ map : "http://i.imwx.com/web/radar/us_ec_9regradar_small_usen.jpg",link: "https://weather.com/weather/radar/interactive/l/USWV0138:1:US?animation=true&layer=radarConus&zoom=8?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-ecen" },
WY    :{ map : "http://i.imwx.com/web/radar/us_wc_9regradar_small_usen.jpg",link: "https://weather.com/weather/radar/interactive/l/USWY0032:1:US?animation=true&layer=radarConus&zoom=8?par=chromev1.1.0&site=us-doppler&cm_ven=Chrome&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=adoppler-wcen" }
},
regional_satellite :
{
AK    :"http://i.imwx.com/images/sat/aksat_277x187.jpg",
AL    :"http://i.imwx.com/web/maps/satellite/regions/southeast_sat_277x187.jpg",
AR    :"http://i.imwx.com/images/sat/regions/s_central_sat_277x187.jpg",
AZ    :"http://i.imwx.com/web/maps/satellite/regions/southwest_sat_277x187.jpg",
CA    :"http://i.imwx.com/images/sat/regions/west_cen_sat_277x187.jpg",
CO    :"http://i.imwx.com/images/sat/regions/central_sat_277x187.jpg",
CT    :"http://i.imwx.com/web/maps/satellite/regions/northeast_sat_277x187.jpg",
DC    :"http://i.imwx.com/images/sat/regions/east_cen_sat_277x187.jpg",
DE    :"http://i.imwx.com/images/sat/regions/east_cen_sat_277x187.jpg",
FL    :"http://i.imwx.com/web/maps/satellite/regions/southeast_sat_277x187.jpg",
GA    :"http://i.imwx.com/web/maps/satellite/regions/southeast_sat_277x187.jpg",
HI    :"http://i.imwx.com/web/maps/satellite/regions/hisat_277x187.jp",
IA    :"http://i.imwx.com/images/sat/regions/n_central_sat_277x187.jpg",
ID    :"http://i.imwx.com/images/sat/regions/west_cen_sat_277x187.jpg",
IL    :"http://i.imwx.com/images/sat/regions/central_sat_277x187.jpg",
IN    :"http://i.imwx.com/images/sat/regions/east_cen_sat_277x187.jpg",
KS    :"http://i.imwx.com/images/sat/regions/central_sat_277x187.jpg",
KY    :"http://i.imwx.com/images/sat/regions/east_cen_sat_277x187.jpg",
LA    :"http://i.imwx.com/web/maps/satellite/regions/southeast_sat_277x187.jpg",
MA    :"http://i.imwx.com/web/maps/satellite/regions/northeast_sat_277x187.jpg",
MD    :"http://i.imwx.com/images/sat/regions/east_cen_sat_277x187.jpg",
ME    :"http://i.imwx.com/web/maps/satellite/regions/northeast_sat_277x187.jpg",
MI    :"http://i.imwx.com/web/maps/satellite/regions/northeast_sat_277x187.jpg",
MN    :"http://i.imwx.com/images/sat/regions/n_central_sat_277x187.jpg",
MO    :"http://i.imwx.com/images/sat/regions/central_sat_277x187.jpg",
MS    :"http://i.imwx.com/images/sat/regions/s_central_sat_277x187.jpg",
MT    :"http://i.imwx.com/web/maps/satellite/regions/northwest_sat_277x187.jpg",
NC    :"http://i.imwx.com/images/sat/regions/east_cen_sat_277x187.jpg",
ND    :"http://i.imwx.com/images/sat/regions/n_central_sat_277x187.jpg",
NE    :"http://i.imwx.com/images/sat/regions/central_sat_277x187.jpg",
NH    :"http://i.imwx.com/web/maps/satellite/regions/northeast_sat_277x187.jpg",
NJ    :"http://i.imwx.com/images/sat/regions/east_cen_sat_277x187.jpg",
NM    :"http://i.imwx.com/web/maps/satellite/regions/southwest_sat_277x187.jpg",
NV    :"http://i.imwx.com/images/sat/regions/west_cen_sat_277x187.jpg",
NY    :"http://i.imwx.com/web/maps/satellite/regions/northeast_sat_277x187.jpg",
OH    :"http://i.imwx.com/images/sat/regions/east_cen_sat_277x187.jpg",
OK    :"http://i.imwx.com/images/sat/regions/s_central_sat_277x187.jpg",
OR    :"http://i.imwx.com/web/maps/satellite/regions/northwest_sat_277x187.jpg",
PA    :"http://i.imwx.com/web/maps/satellite/regions/northeast_sat_277x187.jpg",
PR    :"http://i.imwx.com/web/maps/satellite/regions/caribsat_277x187.jpg",
RI    :"http://i.imwx.com/web/maps/satellite/regions/northeast_sat_277x187.jpg",
SC    :"http://i.imwx.com/images/sat/regions/east_cen_sat_277x187.jpg",
SD    :"http://i.imwx.com/images/sat/regions/n_central_sat_277x187.jpg",
TN    :"http://i.imwx.com/images/sat/regions/east_cen_sat_277x187.jpg",
TX    :"http://i.imwx.com/images/sat/regions/s_central_sat_277x187.jpg",
UT    :"http://i.imwx.com/images/sat/regions/west_cen_sat_277x187.jpg",
VA    :"http://i.imwx.com/images/sat/regions/east_cen_sat_277x187.jpg",
VT    :"http://i.imwx.com/web/maps/satellite/regions/northeast_sat_277x187.jpg",
VI		:"http://i.imwx.com/web/maps/satellite/regions/caribsat_277x187.jpg",
WA    :"http://i.imwx.com/web/maps/satellite/regions/northwest_sat_277x187.jpg",
WI    :"http://i.imwx.com/images/sat/regions/n_central_sat_277x187.jpg",
WV    :"http://i.imwx.com/images/sat/regions/east_cen_sat_277x187.jpg",
WY    :"http://i.imwx.com/images/sat/regions/west_cen_sat_277x187.jpg"
}
}

var weatherData = new WeatherData();

function WeatherData() {
  this.icon = "";
  this.temperature = "";
  this.temperatureClear = "";
  this.feelsLike = "";
  this.condition = "";
  this.cityName = "";
  this.lastUpdated = "";
  this.humidity = "";
  this.visibility = "";
  this.pressure = "";
  this.pressureDescription = "";
  this.windFrom = "";
  this.windSpeed = "";
  this.hasCurrentCondition = false;
  this.windSpeedGusting = "";
  this.severaAlertsCount = 0;
  this.loaded = false;
  this.forecastToday = new Forecast();
  this.forecastNext = new Forecast();
}

function Forecast() {
		this.icon = "";
		this.highTemperature = "";
		this.lowTemperature = "";
		this.condition = "";
		this.precipitation = "";
		this.dayPart = "d";
		this.day = "0";
}

WeatherData.prototype.hasSevereAlerts = function() { 
	return (this.severeAlertsCount > 0);
}

WeatherData.prototype.hasWindSpeedGusting = function() { 
	return (this.windSpeedGusting != "");
}

WeatherData.prototype.getSevereAlertLink = function() {
		return String.format(
			"{0}/today/{1}?par=chromev1.1.0&site=us-weather&cm_ven={2}&cm_cat=chromev1.1.0&cm_pla=us-weather&cm_ite=Today", config.getBaseUri(), config.locId(), config.getTrackingCode());
}

WeatherData.prototype.getTodayLink = function() {
	var locale = config.siteLocale();
	if (locale == 'en_US') {
		return String.format(
			"{0}/today/{1}?par=chromev1.1.0&site=us-weather&cm_ven={2}&cm_cat=chromev1.1.0&cm_pla=us-weather&cm_ite=Today", config.getBaseUri(), config.locId(), config.getTrackingCode());
	}
	else if (config.language() == 'es' || locale == 'en_GB' || locale == 'en_IN' || locale == 'fr_FR') {
		return String.format("{0}/today-{1}?par=chromev1.1.0&site=weather&promo=0&cm_ven={2}&cm_cat=chrome&cm_ite=weather&cm_pla=today", config.getBaseUri(), config.locId(), config.getTrackingCode());
	}
	else if (locale == 'de_DE' || locale == 'pt_BR') {
		return String.format("{0}/today/{1}?par=chromev1.1.0&site=weather&promo=0&cm_ven={2}&cm_cat=chrome&cm_ite=weather&cm_pla=today", config.getBaseUri(), config.locId(), config.getTrackingCode());
	}
}

WeatherData.prototype.getForecastTodayLink = function() {
	var locale = config.siteLocale();
	
	if (locale == 'en_US') {
		return String.format(
			"{0}/wxdetail/{1}?par=chromev1.1.0&site=us-weather&cm_ven={2}&cm_cat=chromev1.1.0&cm_pla=us-weather&cm_ite=Today_Details", config.getBaseUri(), config.locId(), config.getTrackingCode());
	}
	else if (config.language() == 'es' || locale == 'en_GB' || locale == 'en_IN' || locale == 'fr_FR') {
		return String.format("{0}/today-{1}?par=chromev1.1.0&site=weather&promo=0&cm_ven={2}&cm_cat=chrome&cm_ite=weather&cm_pla=today", config.getBaseUri(), config.locId(), config.getTrackingCode());
	}
	else if (locale == 'de_DE' || locale == 'pt_BR') {
		return String.format("{0}/local/{1}?par=chromev1.1.0&site=weather&promo=0&cm_ven={2}&cm_cat=chrome&cm_ite=weather&cm_pla=today", config.getBaseUri(), config.locId(), config.getTrackingCode());
	}
}

WeatherData.prototype.getForecastTomorrowLink = function() {
	var locale = config.siteLocale();
	
	if (locale == 'en_US') {
		return String.format(
			"{0}/wxdetail/{1}?dayNum=1&par=chromev1.1.0&site=us-weather&cm_ven={2}&cm_cat=chromev1.1.0&cm_pla=us-weather&cm_ite=Tomorrow_Details", config.getBaseUri(), config.locId(), config.getTrackingCode());
	}
	else if (config.language() == 'es' || locale == 'en_GB' || locale == 'en_IN' || locale == 'fr_FR') {
		return String.format("{0}/tomorrow-{1}?par=chromev1.1.0&site=weather&promo=0&cm_ven={2}&cm_cat=chrome&cm_ite=weather&cm_pla=tomorrow", config.getBaseUri(), config.locId(), config.getTrackingCode());
	}
	else if (locale == 'de_DE' || locale == 'pt_BR') {
		return String.format("{0}/today/{1}?par=chromev1.1.0&site=weather&promo=0&cm_ven={2}&cm_cat=chrome&cm_ite=weather&cm_pla=tomorrow", config.getBaseUri(), config.locId(), config.getTrackingCode());
	}
}

WeatherData.prototype.getMapLink = function() {
	var cc = config.mapLocId().substring(0,2);
	var sc = config.mapLocId().substring(2,4);
	var locale = config.siteLocale();
	var language = config.language();
	
	var code = "";
	if (mapImages.international[cc])
		code = mapImages.international[cc].code;

	if (locale == 'en_US') 
	{
		if (config.isLocatedInUS())
			return mapImages.regional_doppler[sc].link;
		else if (code != "")
			return internationalLinks[code];
	}
	else if (locale == 'es_US' && cc == "US")
		return "http://espanol.weather.com/mapRoom/mapRoom?locID=USKS0571&locType=1&lat=39.0568&lon=-95.6769&lev=3&type=sat&title=Satellite&par=chromev1.1.0&site=maps&promo=0&cm_ven=chrome_es&cm_cat=chrome&cm_ite=maps&cm_pla=aisat-usa"; 
	else if (locale == 'es_ES' && code == "eur")
		return "http://espanol.weather.com/mapRoom/mapRoom?locID=SPXX0039&locType=1&lat=40.304977&lon=-3.732677&lev=4&type=sat&title=Satellite&par=chromev1.1.0&site=maps&promo=0&cm_ven=chrome_es&cm_cat=chrome&cm_ite=maps&cm_pla=aisat-europe";
	else if (locale == 'es_AR' && code == "sa")
		return "http://espanol.weather.com/mapRoom/mapRoom?locID=BLXX0011&locType=1&lat=-16.37561&lon=-60.95472&lev=3&type=sat&title=Satellite&par=chromev1.1.0&site=maps&promo=0&cm_ven=chrome_es&cm_cat=chrome&cm_ite=maps&cm_pla=aisat-samer";
	else if (locale == 'es_MX' && (cc == "MX" || code == "carib"))
		return "http://espanol.weather.com/mapRoom/mapRoom?locID=MXDF0132&locType=1&lat=19.43&lon=-99.14&lev=4&type=sat&title=Satellite&par=chromev1.1.0&site=maps&promo=0&cm_ven=chrome_es&cm_cat=chrome&cm_ite=maps&cm_pla=aisat-mex";
	else if (locale == "en_GB" && code == "eur")
		return "http://uk.weather.com/mapRoom/mapRoom?locID=UKXX0085&locType=1&lat=51.500153&lon=-0.126236&lev=4&type=sat&title=Satellite&par=chromev1.1.0&site=maps&promo=0&cm_ven=chrome_uk&cm_cat=chrome&cm_ite=maps&cm_pla=aisat-europe";
	else if (locale == "en_GB" && code == "afr")
		return "http://uk.weather.com/mapRoom/mapRoom?locID=SFXX0023&locType=1&lat=-26.19&lon=28.04&lev=4&type=sat&title=Satellite&par=chromev1.1.0&site=maps&promo=0&cm_ven=chrome_uk&cm_cat=chrome&cm_ite=maps&cm_pla=aisat-africa";
	else if (locale == "en_IN" && code == "india")
		return "http://in.weather.com/mapRoom/mapRoom?lat=22.3&lon=77.5&lev=3&from=home&type=sat&title=Satellite&par=chromev1.1.0&site=maps&promo=0&cm_ven=chrome_in&cm_cat=chrome&cm_ite=maps&cm_pla=aisat-asia";
	else if (locale == "fr_FR" && code == "eur")
		return "http://fr.weather.com/mapRoom/mapRoom?lat=48&lon=-1&lev=4&type=sat&title=Satellite&par=chromev1.1.0&site=maps&promo=0&cm_ven=chrome_fr&cm_cat=chrome&cm_ite=maps&cm_pla=aisat-europe";
	else if (locale == "de_DE")
		return "http://de.weather.com/maps/worldregions/intleurope/index_large_animated.html?par=chromev1.1.0&site=maps&promo=0&cm_ven=chrome_de&cm_cat=chrome&cm_ite=maps&cm_pla=aisat-europe";
	else if (locale == "pt_BR")
		return "http://br.weather.com/maps/regioesdomundo/intlamericadosul/index_large_animated.html?par=chromev1.1.0&site=maps&promo=0&cm_ven=chrome_br&cm_cat=chrome&cm_ite=maps&cm_pla=aisat-samer";
//	else {
//		if (language == "en" && cc != "US" && code != "")
//			return internationalLinks[code];
//	}
	
	return null;
}

WeatherData.prototype.getMapImageUri = function() {
	var cc = config.mapLocId().substring(0,2);
	var sc = config.mapLocId().substring(2,4);
	
	if (config.siteLocale() == 'en_US') 
	{
		if (config.isLocatedInUS())
			return mapImages.regional_doppler[sc].map;
		else
			return mapImages.international[cc].map;
	}
	else {
		if (cc == "US") {
			return mapImages.regional_satellite[sc];
		}
		else
			return mapImages.international[cc].map;
	}
}

WeatherData.prototype.getMapTitle = function() 
{
	if (config.siteLocale() == 'en_US' && config.isLocatedInUS()) 
			return tr("dopplerRadarMap");
	
	return tr("satelliteMap");
}

WeatherData.prototype.getHourByHourLink = function() {
	var locale = config.siteLocale();
	
	if (locale == 'en_US') {
		return String.format(
			"{0}/hourbyhour/{1}?par=chromev1.1.0&site=us-weather&cm_ven={2}&cm_cat=chromev1.1.0&cm_pla=us-weather&cm_ite=HBH", config.getBaseUri(), config.locId(), config.getTrackingCode());
	}
	else if (config.language() == 'es' || locale == 'en_GB' || locale == 'en_IN' || locale == 'fr_FR') {
		return String.format("{0}/hourByHour-{1}?par=chromev1.1.0&site=weather&promo=0&cm_ven={2}&cm_cat=chrome&cm_ite=weather&cm_pla=hourly", config.getBaseUri(), config.locId(), config.getTrackingCode());
	}
	else if (locale == 'de_DE' || locale == 'pt_BR') {
		return String.format("{0}/hourbyhour/{1}?par=chromev1.1.0&site=weather&promo=0&cm_ven={2}&cm_cat=chrome&cm_ite=weather&cm_pla=hourly", config.getBaseUri(), config.locId(), config.getTrackingCode());
	}
}

WeatherData.prototype.getExtendedOutlookLink = function() {
	var locale = config.siteLocale();
	
	if (locale == 'en_US') {
		return String.format(
			"{0}/tenday/{1}?par=chromev1.1.0&site=us-weather&cm_ven={2}&cm_cat=chromev1.1.0&cm_pla=us-weather&cm_ite=Tenday", config.getBaseUri(), config.locId(), config.getTrackingCode());
	}
	else if (config.language() == 'es' || locale == 'en_GB' || locale == 'en_IN' || locale == 'fr_FR') {
		return String.format("{0}/tenday-{1}?par=chromev1.1.0&site=weather&promo=0&cm_ven={2}&cm_cat=chrome&cm_ite=weather&cm_pla=10day", config.getBaseUri(), config.locId(), config.getTrackingCode());
	}
	else if (locale == 'de_DE' || locale == 'pt_BR') {
		return String.format("{0}/today/{1}?par=chromev1.1.0&site=weather&promo=0&cm_ven={2}&cm_cat=chrome&cm_ite=weather&cm_pla=10day", config.getBaseUri(), config.locId(), config.getTrackingCode());
	}
}

WeatherData.prototype.getMapRoomOrInteractiveLink = function() {
	var locale = config.siteLocale();
	
	switch(locale) 
	{
		case "en_US":
			return String.format(
				"{0}/map/interactive/{1}?par=chromev1.1.0&site=us-doppler&cm_ven={2}&cm_cat=chromev1.1.0&cm_pla=us-doppler&cm_ite=iRadar_Map", config.getBaseUri(), config.mapLocId(), config.getTrackingCode());
		case "en_GB":
			return String.format("{0}/mapRoom/mapRoom?par=chromev1.1.0&site=maps&promo=0&cm_ven={1}&cm_cat=chrome&cm_ite=maps&cm_pla=map-room", config.getBaseSite(), config.getTrackingCode());
		case "en_IN":
			return String.format("{0}/mapRoom/mapRoom?par=chromev1.1.0&site=maps&promo=0&cm_ven={1}&cm_cat=chrome&cm_ite=maps&cm_pla=map-room", config.getBaseSite(), config.getTrackingCode());
		case "fr_FR":
			return String.format("{0}/mapRoom/mapRoom?par=chromev1.1.0&site=maps&promo=0&cm_ven={1}&cm_cat=chrome&cm_ite=maps&cm_pla=map-room", config.getBaseSite(), config.getTrackingCode());
		case "de_DE":
			return String.format("{0}/maps?par=chromev1.1.0&site=maps&promo=0&cm_ven={1}&cm_cat=chrome&cm_ite=maps&cm_pla=map-room", config.getBaseSite(), config.getTrackingCode());
		case "pt_BR":
			return String.format("{0}/maps?par=chromev1.1.0&site=maps&promo=0&cm_ven={1}&cm_cat=chrome&cm_ite=maps&cm_pla=map-room", config.getBaseSite(), config.getTrackingCode());
		default:
			return String.format("{0}/mapRoom/mapRoom?par=chromev1.1.0&site=maps&promo=0&cm_ven={1}&cm_cat=chrome&cm_ite=maps&cm_pla=map-room", config.getBaseSite(), config.getTrackingCode());
	}
	
}

WeatherData.prototype.updateInfo = function(onSuccess , onError) {
	if (isFirstTime())
		return null;
	
	var url = String.format("{0}/weather/local/{1}?siteLocale={2}&cc=*&dayf=2&prod=bd_select&par=chromev110XML", config.searchSite, config.locId(), config.siteLocale());
	// connect to the xml feed and update weather data with corresponding content.
	
  var xhr = new XMLHttpRequest();
  var abortTimerId = window.setTimeout(function() {
    xhr.abort();
    onError();
  }, requestTimeout);

  function handleSuccess(count) {
    requestFailureCount = 0;
    window.clearTimeout(abortTimerId);
    if (onSuccess)
      onSuccess(count);
  }

  function handleError() {
    ++requestFailureCount;
    window.clearTimeout(abortTimerId);
    if (onError)
      onError();
  }

  try {
    console.log("request..");
    xhr.onreadystatechange = function(){
      console.log("readystate: " + xhr.readyState);
      if (xhr.readyState != 4)
        return;

      console.log("responseText: " + xhr.responseText.substring(0, 200) +
                    "...");
      if (xhr.responseXML) {
        var xmlDoc = xhr.responseXML;
        
        var ut = findTextContent(xmlDoc, "/weather/head/ut");

			  weatherData.cityName = findTextContent(xmlDoc, "/weather/loc/dnam");

        weatherData.hasCurrentCondition = (xmlDoc.evaluate( 'count(/weather/cc/tmp)', xmlDoc, null, XPathResult.ANY_TYPE, null ).numberValue == 1);
        
        if (weatherData.hasCurrentCondition) 
        {
				  weatherData.lastUpdated = findTextContent(xmlDoc, "/weather/cc/lsup");
	        weatherData.temperatureClear = String.format("{0}\xB0", findTextContent(xmlDoc, "/weather/cc/tmp"));
	        weatherData.temperature = String.format("{0}{1}", weatherData.temperatureClear, ut);
	        weatherData.feelsLike = String.format("{0}\xB0{1}", findTextContent(xmlDoc, "/weather/cc/flik"), ut);
	        weatherData.icon = String.format("{0}.png", padDigits(findTextContent(xmlDoc, "/weather/cc/icon"),2));
				  weatherData.condition = findTextContent(xmlDoc, "/weather/cc/t");
				  weatherData.humidity = String.format("{0}%",findTextContent(xmlDoc, "/weather/cc/hmid"));
				  weatherData.visibility = String.format("{0} {1}", findTextContent(xmlDoc, "/weather/cc/vis"), findTextContent(xmlDoc, "/weather/head/ud"));
				  weatherData.pressure = String.format("{0} {1}", findTextContent(xmlDoc, "/weather/cc/bar/r"), findTextContent(xmlDoc, "/weather/head/up"));
				  weatherData.pressureDescription = findTextContent(xmlDoc, "/weather/cc/bar/d");
				  weatherData.windFrom = findTextContent(xmlDoc, "/weather/cc/wind/t");
				  weatherData.windSpeed = String.format("{0} {1}", findTextContent(xmlDoc, "/weather/cc/wind/s"), findTextContent(xmlDoc, "/weather/head/us"));
				  if (!isNaN(parseInt(findTextContent(xmlDoc, "/weather/cc/wind/gust"))))        
				  	weatherData.windSpeedGusting = String.format("{0} {1}", findTextContent(xmlDoc, "/weather/cc/wind/gust"), findTextContent(xmlDoc, "/weather/head/us"));        
			  }
			  else
  	        weatherData.icon = "44.png";

			  if (config.siteLocale() == 'en_US')
				  weatherData.severeAlertsCount = xmlDoc.evaluate( 'count(/weather/swa/a)', xmlDoc, null, XPathResult.ANY_TYPE, null ).numberValue;
				else
					weatherData.severeAlertsCount = 0;
				var hasMorningForecast = String.format("{0}", findTextContent(xmlDoc, "/weather/dayf/day[@d='0']/part[@p='d']/icon"));
			  //var hasMorningForecast = !(isNaN(parseInt(findTextContent(xmlDoc, "/weather/dayf/day[@d='0']/hi"))));
		  	if (hasMorningForecast) 
		  	{
		  		setForecast(xmlDoc, weatherData.forecastToday, '0', 'd', ut);
		  		setForecast(xmlDoc, weatherData.forecastNext, '0', 'n', ut);
		  	}
		  	else 
		  	{
		  		setForecast(xmlDoc, weatherData.forecastToday, '0', 'n', ut);
		  		setForecast(xmlDoc, weatherData.forecastNext, '1', 'd', ut);
		  	}
				
				weatherData.loaded = true;
        handleSuccess();
        return;
      } else {
        console.log("No responseXML!");
      }

      //handleError();
    }

    xhr.onerror = function(error) {
      console.log("error");
      handleError();
    }

		console.log("url: " + url);
    xhr.open("GET", url, true);
    xhr.send(null);
  } catch(e) {
    console.log("ex: " + e);
    console.error("exception: " + e);
    handleError();
  }
}

function setForecast(xmlDoc, forecast, day, part, ut) {
	// start new code
	var hasIcon = String.format("{0}", findTextContent(xmlDoc, "/weather/dayf/day[@d='" + day + "']/part[@p='" + part + "']/icon"));
	//console.log("hasIcon: " + hasIcon);
		if (hasIcon) {
			// end new code
  	forecast.icon = String.format("{0}.png", padDigits(findTextContent(xmlDoc, "/weather/dayf/day[@d='" + day + "']/part[@p='" + part + "']/icon"),2));
		//start new code
		}
		else 
		{
			forecast.icon = String.format("{0}.png", padDigits(findTextContent(xmlDoc, "/weather/cc/icon"),2));
		}
		//end new code
		forecast.highTemperature = "N/D";
		forecast.lowTemperature = "N/D";
		if (findTextContent(xmlDoc, "/weather/dayf/day[@d='" + day + "']/hi") != "N/D")
			forecast.highTemperature = String.format("{0}\xB0{1}",findTextContent(xmlDoc, "/weather/dayf/day[@d='" + day + "']/hi"), ut);
		if (findTextContent(xmlDoc, "/weather/dayf/day[@d='" + day + "']/low") != "N/D")
			forecast.lowTemperature = String.format("{0}\xB0{1}",findTextContent(xmlDoc, "/weather/dayf/day[@d='" + day + "']/low"), ut);
		forecast.condition = findTextContent(xmlDoc, "/weather/dayf/day[@d='" + day + "']/part[@p='" + part + "']/t");
		forecast.precipitation = String.format("{0}%", findTextContent(xmlDoc, "/weather/dayf/day[@d='" + day + "']/part[@p='" + part + "']/ppcp"));
		forecast.dayPart = part;
		forecast.day = day;
}
